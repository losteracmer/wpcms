<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- Tell the browser to be responsive to screen width -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<!-- Favicon icon -->
	<link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png">
	<title>客户列表</title>
	<!-- This page plugin CSS -->
	<link href="assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet">
	<link href="./assets/libs/toastr/build/toastr.min.css" rel="stylesheet">
	<!-- Custom CSS -->
	<link href="dist/css/style.min.css" rel="stylesheet">
	<style>
		.event::after{
			content: attr(data-etitle);
		}
	</style>
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
	<!-- ============================================================== -->
	<!-- Preloader - style you can find in spinners.css -->
	<!-- ============================================================== -->
	<div class="preloader">
		<div class="lds-ripple">
			<div class="lds-pos"></div>
			<div class="lds-pos"></div>
		</div>
	</div>
	<!-- ============================================================== -->
	<!-- Main wrapper - style you can find in pages.scss -->
	<!-- ============================================================== -->
	<div id="main-wrapper">
		<!-- ============================================================== -->
		<!-- Topbar header - style you can find in pages.scss -->
		<!-- ============================================================== -->
		<header class="topbar">
			<nav class="navbar top-navbar navbar-expand-md navbar-dark">
				<div class="navbar-header">
					<!-- This is for the sidebar toggle which is visible on mobile only -->
					<a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)">
						<i class="ti-menu ti-close"></i>
					</a>
					<!-- ============================================================== -->
					<!-- Logo -->
					<!-- ============================================================== -->
					<div class="navbar-brand">
						<a href="index.html" class="logo">
							<!-- Logo icon -->
							<b class="logo-icon">
								<!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
								<!-- Dark Logo icon -->
								<img src="assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
								<!-- Light Logo icon -->
								<img src="assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
							</b>
							<!--End Logo icon -->
							<!-- Logo text -->
							<span class="logo-text">
								<!-- dark Logo text -->
								<img src="assets/images/logo-text.png" alt="homepage" class="dark-logo" />
								<!-- Light Logo text -->
								<img src="assets/images/logo-light-text.png" class="light-logo" alt="homepage" />
							</span>
						</a>
					</div>
					<!-- ============================================================== -->
					<!-- End Logo -->
					<!-- ============================================================== -->
					<!-- ============================================================== -->
					<!-- Toggle which is visible on mobile only -->
					<!-- ============================================================== -->
					<a class="topbartoggler d-block d-md-none waves-effect waves-light" href="javascript:void(0)" data-toggle="collapse"
					 data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<i class="ti-more"></i>
					</a>
				</div>
				<!-- ============================================================== -->
				<!-- End Logo -->
				<!-- ============================================================== -->
				<div class="navbar-collapse collapse" id="navbarSupportedContent">
					<!-- ============================================================== -->
					<!-- toggle and nav items -->
					<!-- ============================================================== -->
					<ul class="navbar-nav float-left mr-auto">
						<!-- <li class="nav-item d-none d-md-block">
                            <a class="nav-link sidebartoggler waves-effect waves-light" href="javascript:void(0)" data-sidebartype="mini-sidebar">
                                <i class="mdi mdi-menu font-24"></i>
                            </a>
                        </li> -->
						<!-- ============================================================== -->
						<!-- Search -->
						<!-- ============================================================== -->
						<li class="nav-item search-box">
							<a class="nav-link waves-effect waves-dark" href="javascript:void(0)">
								<div class="d-flex align-items-center">
									<i class="mdi mdi-magnify font-20 mr-1"></i>
									<div class="ml-1 d-none d-sm-block">
										<span>Search</span>
									</div>
								</div>
							</a>
							<form class="app-search position-absolute">
								<input type="text" class="form-control" placeholder="这个功能还没开发哦~~~~">
								<a class="srh-btn">
									<i class="ti-close"></i>
								</a>
							</form>
						</li>
					</ul>
					<!-- ============================================================== -->
					<!-- Right side toggle and nav items -->
					<!-- ============================================================== -->
					<ul class="navbar-nav float-right">
						<!-- ============================================================== -->
						<!-- Messages -->
						<!-- ============================================================== -->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle waves-effect waves-dark" href="" id="2" data-toggle="dropdown" aria-haspopup="true"
							 aria-expanded="false">
								<i class="font-22 mdi mdi-email-outline"></i>

							</a>
							<div class="dropdown-menu dropdown-menu-right mailbox animated bounceInDown" aria-labelledby="2">
								<span class="with-arrow">
									<span class="bg-danger"></span>
								</span>
								<ul class="list-style-none">
									<li>
										<div class="drop-title text-white bg-danger">
											<h4 class="m-b-0 m-t-5">2新消息</h4>
											<span class="font-light">信息内容</span>
										</div>
									</li>
									<li>
										<div class="message-center message-body">
											<!-- Message -->
											<a href="javascript:void(0)" class="message-item">
												<span class="user-img">
													<img src="assets/images/users/1.jpg" alt="user" class="rounded-circle">
													<span class="profile-status online pull-right"></span>
												</span>
												<div class="mail-contnet">
													<h5 class="message-title">员工小王</h5>
													<span class="mail-desc">永阳花苑发水了，飞流直下，无法控制</span>
													<span class="time">9:30 AM</span>
												</div>
											</a>
											<!-- Message -->
											<a href="javascript:void(0)" class="message-item">
												<span class="user-img">
													<img src="assets/images/users/2.jpg" alt="user" class="rounded-circle">
													<span class="profile-status busy pull-right"></span>
												</span>
												<div class="mail-contnet">
													<h5 class="message-title">管理员</h5>
													<span class="mail-desc">老板，新机器有大牛5000￥购买30台，卖否？</span>
													<span class="time">19:10 AM</span>
												</div>
											</a>
										</div>
									</li>
									<li>
										<a class="nav-link text-center link text-dark" href="javascript:void(0);">
											<b>开发中~~~QAQ</b>
											<i class="fa fa-angle-right"></i>
										</a>
									</li>
								</ul>
							</div>
						</li>
						<!-- ============================================================== -->
						<!-- End Messages -->
						<!-- ============================================================== -->
						<!-- ============================================================== -->
						<!-- Comment -->
						<!-- ============================================================== -->
						<li class="nav-item dropdown border-right">
							<a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true"
							 aria-expanded="false">
								<i class="mdi mdi-bell-outline font-22"></i>
								<span class="badge badge-pill badge-info noti"></span>
							</a>
							<div class="dropdown-menu dropdown-menu-right mailbox animated bounceInDown">
								<span class="with-arrow">
									<span class="bg-primary"></span>
								</span>
								<ul class="list-style-none">
									<li>
										<div class="drop-title bg-primary text-white">
											<h4 class="m-b-0 m-t-5">4 New</h4>
											<span class="font-light">提醒</span>
										</div>
									</li>
									<li>
										<div class="message-center notifications">
											<!-- Message -->
											<a href="javascript:void(0)" class="message-item">
												<span class="btn btn-danger btn-circle">
													<i class="fa fa-link"></i>
												</span>
												<div class="mail-contnet">
													<h5 class="message-title">提示</h5>
													<span class="mail-desc">有位客户说今天给他换处理器</span>
													<span class="time">9:30 AM</span>
												</div>
											</a>
											<!-- Message -->
											<a href="javascript:void(0)" class="message-item">
												<span class="btn btn-success btn-circle">
													<i class="ti-calendar"></i>
												</span>
												<div class="mail-contnet">
													<h5 class="message-title">备忘</h5>
													<span class="mail-desc">明天放假，下班打卡别忘关灯</span>
													<span class="time">9:10 AM</span>
												</div>
											</a>

										</div>
									</li>
									<li>
										<a class="nav-link text-center m-b-5 text-dark" href="javascript:void(0);">
											<strong>开发中~~~QAQ</strong>
											<i class="fa fa-angle-right"></i>
										</a>
									</li>
								</ul>
							</div>
						</li>
						<!-- ============================================================== -->
						<!-- End Comment -->
						<!-- ============================================================== -->
						<!-- ============================================================== -->
						<!-- User profile and search -->
						<!-- ============================================================== -->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle waves-effect waves-dark pro-pic" href="" data-toggle="dropdown" aria-haspopup="true"
							 aria-expanded="false">
								<img id="adminAvatarUrl" src="assets/images/users/2.jpg" alt="user" class="rounded-circle" width="40">
								<span id="adminNickName" class="m-l-5 font-medium d-none d-sm-inline-block">loading... <i class="mdi mdi-chevron-down"></i></span>
							</a>
							<div class="dropdown-menu dropdown-menu-right user-dd animated flipInY">
								<span class="with-arrow">
									<span class="bg-primary"></span>
								</span>
								<div class="d-flex no-block align-items-center p-15 bg-primary text-white m-b-10">
									<div class="">
										<img id="adminAvatarUrl2" src="assets/images/users/2.jpg" alt="user" class="rounded-circle" width="60">
									</div>
									<div class="m-l-10">
										<h4 id="adminNickName2" class="m-b-0">loading...</h4>
										<p id="adminAccount" class=" m-b-0">loading...</p>
									</div>
								</div>
								<a class="dropdown-item" href="javascript:void(0)">
									<i class="ti-user m-r-5 m-l-5"></i> 我的描述</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="javascript:void(0)">
									<i class="ti-settings m-r-5 m-l-5"></i> 账户设置</a>
								<div class="dropdown-divider"></div>
								<a id="logoutBtn" class="dropdown-item" href="javascript:void(0)">
									<i class="fa fa-power-off m-r-5 m-l-5"></i> 退出登录</a>
								<div class="dropdown-divider"></div>
								<div class="p-l-30 p-10">
									<a href="javascript:void(0)" class="btn btn-sm btn-success btn-rounded">关于</a>
								</div>
							</div>
						</li>
						<!-- ============================================================== -->
						<!-- User profile and search -->
						<!-- ============================================================== -->
					</ul>
				</div>
			</nav>
		</header>
		<!-- ============================================================== -->
		<!-- End Topbar header -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- Left Sidebar - style you can find in sidebar.scss  -->
		<!-- ============================================================== -->
		<aside class="left-sidebar">
			<!-- Sidebar scroll-->
			<div class="scroll-sidebar">
				<!-- Sidebar navigation-->
				<nav class="sidebar-nav">
					<ul id="sidebarnav">
						<!-- User Profile-->
						<li class="nav-small-cap"><i class="mdi mdi-dots-horizontal"></i> <span class="hide-menu">首页</span></li>
						<li class="sidebar-item">
							<a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i
								 class="mdi mdi-av-timer"></i><span class="hide-menu">首页 </span></a>
							<ul aria-expanded="false" class="collapse  first-level">
								<li class="sidebar-item">
									<a href="index.html" class="sidebar-link"><i class="mdi mdi-timer-off"></i><span class="hide-menu"> 更换周期
										</span></a>
								</li>
								<li class="sidebar-item">
									<a href="analysis.html" class="sidebar-link"><i class="mdi mdi-chart-line"></i><span class="hide-menu"> 销售分析
										</span></a>
								</li>
								<li class="sidebar-item">
									<a href="customer_maintain.html" class="sidebar-link"><i class="ti ti-pulse"></i><span class="hide-menu"> 客户维护
										</span></a>
								</li>
							</ul>
						</li>
						<li class="nav-small-cap"><i class="mdi mdi-dots-horizontal"></i> <span class="hide-menu">业务</span></li>
						<li class="sidebar-item">
							<a class="sidebar-link two-column has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i
								 class="mdi mdi-inbox-arrow-down"></i><span class="hide-menu">订单 </span></a>
							<ul aria-expanded="false" class="collapse first-level">
								<li class="sidebar-item">
									<a href="create_order.html" class="sidebar-link"><i class="mdi mdi-cart-plus"></i><span class="hide-menu">
											创建订单
										</span></a>
								</li>
								<li class="sidebar-item">
									<a href="order_list.html" class="sidebar-link"><i class="mdi mdi-cart"></i><span class="hide-menu"> 查看订单
										</span></a>
								</li>
							</ul>
						</li>
						<li class="nav-small-cap"><i class="mdi mdi-dots-horizontal"></i> <span class="hide-menu">客户</span></li>
						<li class="sidebar-item">
							<a class="sidebar-link two-column has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i
								 class="mdi mdi-account-network"></i><span class="hide-menu">客户 </span></a>
							<ul aria-expanded="false" class="collapse first-level">
								<li class="sidebar-item">
									<a href="customer_list.html" class="sidebar-link"><i class="mdi mdi-account-star-variant"></i><span class="hide-menu">
											客户管理
										</span></a>
								</li>
								<li class="sidebar-item">
									<a href="customer_detail.html" class="sidebar-link"><i class="mdi mdi-account-box"></i><span class="hide-menu">
											客户详情 </span></a>
								</li>
								<li class="sidebar-item">
									<a href="recover.html" class="sidebar-link"><i class="fas fa-arrow-circle-down"></i><span class="hide-menu">
											数据恢复 </span></a>
								</li>
							</ul>
						</li>
						<li class="nav-small-cap"><i class="mdi mdi-tune"></i> <span class="hide-menu">设备</span></li>
						<li class="sidebar-item">
							<a class="sidebar-link two-column has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i
								 class="mdi mdi-codepen"></i><span class="hide-menu">设备管理 </span></a>
							<ul aria-expanded="false" class="collapse first-level">
								<li class="sidebar-item">
									<a href="machine.html" class="sidebar-link"><i class="mdi mdi-vector-triangle"></i><span class="hide-menu">
											净水机
										</span></a>
								</li>
							</ul>
						</li>
						<li class="nav-small-cap"><i class="mdi mdi-dots-horizontal"></i> <span class="hide-menu">员工</span></li>
						<li class="sidebar-item">
							<a class="sidebar-link two-column has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i
								 class="mdi mdi-bulletin-board"></i><span class="hide-menu">员工管理 </span></a>
							<ul aria-expanded="false" class="collapse first-level">
								<li class="sidebar-item">
									<a href="labour_list.html" class="sidebar-link"><i class="mdi mdi-svg"></i><span class="hide-menu"> 员工列表
										</span></a>
								</li>
								<li class="sidebar-item">
									<a href="labour_detail.html" class="sidebar-link"><i class="mdi mdi-chart-histogram"></i><span class="hide-menu">
											员工详情 </span></a>
								</li>
							</ul>
						</li>
					</ul>
				</nav>
				<!-- End Sidebar navigation -->
			</div>
			<!-- End Sidebar scroll-->
		</aside>
		<!-- ============================================================== -->
		<!-- End Left Sidebar - style you can find in sidebar.scss  -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- Page wrapper  -->
		<!-- ============================================================== -->
		<div class="page-wrapper">

			<!-- ============================================================== -->
			<!-- Container fluid  -->
			<!-- ============================================================== -->
			<div class="container-fluid">
				<!-- ============================================================== -->
				<!-- Start Page Content -->
				<!-- ============================================================== -->
				<div class="row">
					<!-- Column -->
					<div class="col-lg-12 col-xl-12 col-md-12">
						<div class="card">
							<div class="card-body">
								<div class="d-flex no-block align-items-center m-b-30">
									<h4 class="card-title">全部用户</h4>
									<div class="ml-auto">
										<div class="btn-group">
											<button type="button" class="btn btn-dark" data-toggle="modal" data-target="#createCustomerModal">
												添加用户
											</button>
										</div>
									</div>
								</div>
								<div class="table-responsive">
									<table id="customer_list" class="table  toggle-circle table-hover">
										<!-- ============================================================== -->
										<!-- 表格开始.... -->
										<!-- ============================================================== -->

									</table>
								</div>
							</div>
						</div>
					</div>
					<!-- Column -->
				</div>
				<!-- ============================================================== -->
				<!-- End PAge Content -->
				<!-- ============================================================== -->
				<!-- ============================================================== -->
				<!-- Right sidebar -->
				<!-- ============================================================== -->
				<!-- .right-sidebar -->
				<!-- ============================================================== -->
				<!-- End Right sidebar -->
				<!-- ============================================================== -->
			</div>

			<!-- Create Modal -->
			<div class="modal fade" id="createCustomerModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel"
			 aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<form id="addCustomerForm">
							<div class="modal-header">
								<h5 class="modal-title" id="createModalLabel"><i class="ti-marker-alt m-r-10"></i> 添加新客户</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div class="input-group mb-3">
									<button type="button" class="btn btn-info"><i class="ti-user text-white"></i></button>
									<input type="text" class="form-control" placeholder="姓名" aria-label="name" name="real_name">
								</div>
								<div class="input-group mb-3">
									<button type="button" class="btn btn-info"><i class="ti-more text-white"></i></button>
									<input type="text" class="form-control" placeholder="电话1" aria-label="no" name="mobile_1">
								</div>
								<div class="input-group mb-3">
									<button type="button" class="btn btn-info"><i class="ti-more text-white"></i></button>
									<input type="text" class="form-control" placeholder="电话2" aria-label="no" name="mobile_2">
								</div>
								<div class="input-group mb-3">
									<button type="button" class="btn btn-info"><i class="ti-more text-white"></i></button>
									<input type="text" class="form-control" placeholder="区域" aria-label="no" name="customer_area">
								</div>
								<div class="input-group mb-3">
									<button type="button" class="btn btn-info"><i class="ti-more text-white"></i></button>
									<input type="text" class="form-control" placeholder="详细地址" aria-label="no" name="address">
								</div>
								<div class="input-group mb-3">
									<select class="select2 form-control custom-select" style="width: 100%; height:36px;" name="customer_from">
										<optgroup label="用户来源">
											<option value="店面">店面</option>
											<option value="网购">网购</option>
											<option value="服务">服务</option>
										</optgroup>
									</select>
								</div>
								<div class="input-group mb-3">

									<h4 class="btn-block">选择用户星级</h4>
									<div class="form-check form-check-inline">
										<div class="custom-control custom-radio">
											<input type="radio" class="custom-control-input" id="star-1" name="customer_star" value="1">
											<label class="custom-control-label" for="star-1">1</label>
										</div>
									</div>
									<div class="form-check form-check-inline">
										<div class="custom-control custom-radio">
											<input type="radio" class="custom-control-input" id="star-2" name="customer_star" value="2">
											<label class="custom-control-label" for="star-2">2</label>
										</div>
									</div>
									<div class="form-check form-check-inline">
										<div class="custom-control custom-radio">
											<input type="radio" class="custom-control-input" id="star-3" name="customer_star" value="3">
											<label class="custom-control-label" for="star-3">3</label>
										</div>
									</div>
								</div>
								<textarea class="form-control" rows="3" placeholder="输入备注信息" name="remark"></textarea>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
								<button type="button" class="btn btn-success" id="addCustomerBtn"><i class="ti-save"></i> 保存</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			<!-- ============================================================== -->
			<!-- End Container fluid  -->
			<!-- ============================================================== -->
			<!-- ============================================================== -->
			<!-- footer -->
			<!-- ============================================================== -->
			<footer class="footer text-center">
				All Rights Reserved by losteracmer. Designed and Developed by
				<a href="#">sst</a>.
			</footer>
			<!-- ============================================================== -->
			<!-- End footer -->
			<!-- ============================================================== -->
		</div>
		<!-- ============================================================== -->
		<!-- End Page wrapper  -->
		<!-- ============================================================== -->
	</div>
	<!-- ============================================================== -->
	<!-- End Wrapper -->
	<!-- ============================================================== -->

	<!-- All Jquery -->
	<!-- ============================================================== -->
	<script src="assets/libs/jquery/dist/jquery.min.js"></script>
	<!-- Bootstrap tether Core JavaScript -->
	<script src="assets/libs/popper.js/dist/umd/popper.min.js"></script>
	<script src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
	<!-- apps -->
	<script src="dist/js/app.min.js"></script>
	<script src="dist/js/app.init.js"></script>
	<script src="dist/js/app-style-switcher.js"></script>
	<!-- slimscrollbar scrollbar JavaScript -->
	<script src="assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
	<script src="assets/extra-libs/sparkline/sparkline.js"></script>
	<!--Wave Effects -->
	<script src="dist/js/waves.js"></script>
	<!--Menu sidebar -->
	<script src="dist/js/sidebarmenu.js"></script>
	<!--Custom JavaScript -->
	<script src="dist/js/custom.min.js"></script>
	<script src="assets/libs/toastr/build/toastr.min.js"></script>

	<!--This page plugins -->
	<script src="assets/extra-libs/DataTables/datatables.min.js"></script>
	<script src="js/adminMsg.js"></script>
	<!-- start - This is for export functionality only -->
	<script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.flash.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>
	<script src="dist/js/pages/datatable/datatable-advanced.init.js"></script>


	<script>
		var Gcustomer_list = null;
		var Gcustomer_id = null;

		function setEvent() {
			$("a.event").off();
			$("a[data-event='detail']").bind('click', function () {
				var customer_id = $(this).parent().data('customer_id');

				window.location.href = '/customer_detail.html?customer_id=' + customer_id;

			})
			$("a[data-event='lazycustomer']").bind('click', function () {
				var customer_id = $(this).parent().data('customer_id');
				Gcustomer_id = customer_id;
				console.log('点击')
				toastr.warning(
					'确定操作?<br /><br /><button id="confirmLazyCustomer" type="button" class="btn btn-secondary clear">确定</button>',
					'从此该用户不会出现在首页列表上，即使他还活着', {
						"progressBar": true,
						"showMethod": "slideDown",
						"hideMethod": "slideUp",
						timeOut: 4000
					})
				$("#confirmLazyCustomer").on('click', function () {
					console.log('toastr 按钮被点击')
					$.ajax({
						url: "/customer/setlazy",
						data: {
							customer_id: customer_id
						},
						success: function (data, textStatus) {
							if (data.code == 200) {
								toastr.success(data.msg)
							} else {
								toastr.error(data.msg);
							}
						},
						error: function (error) {
							toastr.error(JSON.stringify(error));
						}
					})
				})
			})
			//删除用户
			$("a[data-event='deletecustomer']").bind('click', function () {
				var customer_id = $(this).parent().data('customer_id');
				Gcustomer_id = customer_id;
				let _confirm = confirm("确定删除这个客户？（危险操作）");
				if(_confirm){
					$.ajax({
						url: '/customer/delete',
						data: {
							customer_id:customer_id
						},
						success: function (data, textStatus) {
							if (data.code == 200) {
								toastr.success(data.msg);
								Gcustomer_list.ajax.reload();
							} else{
								toastr.error(data.msg);
							}
						},
						error: function (error) {
							toastr.error('网络故障...')
						},
						complete:function(){}
					})
				}

			})

		}

		function createButton(id) {
			//console.log('渲染完成')
			return `<td class="hidden-print">
						<div class="btn-group">
							<button type="button" class="btn btn-dark dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onclick=setEvent()>
							<i class="ti-settings"></i>
						</button>
							<div data-customer_id='${id}' class="dropdown-menu animated slideInUp" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 35px, 0px);">
								<a class="dropdown-item detail event" href="javascript:void(0)"  data-event='detail' data-etitle='客户详情'><i class='ti-eye'></i> </a>
								<a class="dropdown-item lazycustomer event" href="javascript:void(0)"  data-event='lazycustomer' data-etitle='设为僵尸'><i class="ti-pencil-alt"></i> </a>
								<a class="dropdown-item deletecustomer event" href="javascript:void(0)"  data-event='deletecustomer' data-etitle='删除用户'><i class="ti-trash"></i> </a>

							</div>
						</div>
					</td>`
		};

		$(document).ready(function () {



			Gcustomer_list = $("#customer_list").DataTable({
				"lengthChange": true,
				//允许css控制行高
				// fixedColumns: {
				// 	heightMatch: 'none'
				// },
				dom: 'Bfrtip',
				buttons: [{
					extend: 'print',
					text: '打印',
					exportOptions: {
						columns: [1, 2, 3, 4, 5, 6, 7, 8, 9]
					}
				}, {
					extend: 'excel',
					text: '导出表格'
				}],
				ajax: {
					url: `/customer/getlistajax`,

				},
				oLanguage: {
					"sSearch": "搜索",
					"sProcessing": "正在获取数据，请稍后...",
					"sLengthMenu": "显示 _MENU_ 条",
					"sZeroRecords": "没有您要搜索的内容",
					"sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
					"sInfoEmpty": "记录数为0",
					"sInfoFiltered": "(全部记录数 _MAX_ 条)",
					"sInfoPostFix": "",
					"oPaginate": {
						"sFirst": "第一页",
						"sPrevious": "上一页",
						"sNext": "下一页",
						"sLast": "最后一页",

					}
				},
				columns: [{
						title: "星级",
						data: "customer_star"
					},
					{
						title: '来源',
						data: 'customer_from'
					},
					{
						title: "区域",
						data: "customer_area"
					},
					{
						title: "用户姓名",
						data: "real_name"
					}, {
						title: "电话1",
						data: "mobile_1"
					}, {
						title: "电话2",
						data: "mobile_2"
					},
					{
						title: "地址",
						data: "address"
					},
					{
						title: '操作',
						data: 'customer_id',
						render: (data, type, full) => {
							return createButton(data)
						}
					}
				]
			})
			$('.buttons-copy, .buttons-csv, .buttons-print, .buttons-pdf, .buttons-excel').addClass(
				'btn btn-cyan text-white mr-1');
		})
		$(document).ready(function () {
			$("#addCustomerBtn").on('click', function () {
				var customerObj = $("#addCustomerForm").serialize();
				$.ajax({
					url: '/customer/add',
					data: customerObj,
					type: 'POST',
					success: function (data) {
						if (data.code == 200) {
							toastr.success(data.msg)
							$("#createCustomerModal").modal('hide');
							Gcustomer_list.ajax.reload();
						} else {
							toastr.error(data.code, data.msg);
						}
					},
					error: function (error) {
						toastr.error('网络异常!');
					}
				})
			})
		})
	</script>

</body>

</html>